CREATE TABLE altapostoperatoria (apo_codigo INTEGER PRIMARY KEY AUTOINCREMENT, apo_tra_codigo INTEGER NOT NULL, apo_med_codigo INTEGER, apo_cli_codigo INTEGER NOT NULL, apo_exploracion TEXT NOT NULL, apo_info_especialista TEXT NOT NULL, apo_tratamiento TEXT NOT NULL, apo_observaciones TEXT NOT NULL);
CREATE TABLE clinica (cli_codigo INTEGER PRIMARY KEY AUTOINCREMENT, cli_nombre VARCHAR(50) NOT NULL, cli_direccion VARCHAR(50) NOT NULL, cli_telefono VARCHAR(15) NOT NULL);
CREATE TABLE contacto (con_codigo INTEGER PRIMARY KEY AUTOINCREMENT, con_pac_codigo INTEGER NOT NULL, con_nombre VARCHAR(150) NOT NULL, con_telefono1 VARCHAR(15), con_telefono2 VARCHAR(15), con_email VARCHAR(50), con_direccion VARCHAR(150));
CREATE TABLE contactologistica (clo_codigo INTEGER PRIMARY KEY AUTOINCREMENT, clo_nombre VARCHAR(50) NOT NULL, clo_identificacion VARCHAR(30) NOT NULL, clo_telefono VARCHAR(15) NOT NULL, clo_email VARCHAR(150), clo_direccion VARCHAR(50), clo_caracteristica VARCHAR(50));
CREATE TABLE descripciontratamiento (dtr_codigo INTEGER PRIMARY KEY AUTOINCREMENT, dtr_tit_codigo INTEGER, dtr_descripcion VARCHAR(200) NOT NULL);
CREATE TABLE destinoturistico (dst_codigo INTEGER PRIMARY KEY AUTOINCREMENT, dst_destino VARCHAR(255));
CREATE TABLE dietapaciente (dtp_codigo INTEGER PRIMARY KEY AUTOINCREMENT, dtp_tra_codigo INTEGER NOT NULL, dtp_recomendaciones TEXT NOT NULL, dtp_med_codigo INTEGER, dtp_tipo_dieta VARCHAR(20) DEFAULT 'PREOPERATORIA' NOT NULL);
CREATE TABLE elementosxintervencion (exi_preo_codigo INTEGER, exi_maq_codigo INTEGER, exi_cantidad INTEGER, PRIMARY KEY(exi_preo_codigo, exi_maq_codigo));
CREATE TABLE enfermera (enf_codigo INTEGER PRIMARY KEY AUTOINCREMENT, enf_nombre VARCHAR(50) NOT NULL, enf_valor_servicio INTEGER NOT NULL);
CREATE TABLE foto (fot_codigo INTEGER PRIMARY KEY AUTOINCREMENT, fot_nombre VARCHAR(100) NOT NULL, fot_uri_imagen VARCHAR(150) NOT NULL, fot_preoperatoria INTEGER DEFAULT 1 NOT NULL, fot_preo_codigo INTEGER, fot_pos_codigo INTEGER);
CREATE TABLE hotel (hot_codigo INTEGER PRIMARY KEY AUTOINCREMENT, hot_nombre VARCHAR(100) NOT NULL, hot_direccion VARCHAR(100) NOT NULL, hot_telefono VARCHAR(15) NOT NULL, hot_web VARCHAR(150), hot_email VARCHAR(150) NOT NULL, hot_valor_noche INTEGER NOT NULL);
CREATE TABLE logistica (log_codigo INTEGER PRIMARY KEY AUTOINCREMENT, log_tra_codigo INTEGER NOT NULL, log_reh_codigo INTEGER, log_vue_codigo INTEGER, log_trans_codigo INTEGER, log_clo_codigo_responsable INTEGER, log_clo_codigo_guia INTEGER, log_observaciones TEXT, log_observaciones_transporte TEXT);
CREATE TABLE materialquirurgico (maq_codigo INTEGER PRIMARY KEY AUTOINCREMENT, maq_nombre VARCHAR(50) NOT NULL, maq_valor INTEGER);
CREATE TABLE medico (med_codigo INTEGER PRIMARY KEY AUTOINCREMENT, med_sfg_id INTEGER NOT NULL, med_nombre VARCHAR(50) NOT NULL, med_direccion VARCHAR(50) NOT NULL, med_telefono1 VARCHAR(15) NOT NULL, med_telefono2 VARCHAR(15) NOT NULL, med_email VARCHAR(100) NOT NULL, med_especialidad VARCHAR(50) NOT NULL);
CREATE TABLE menu (men_codigo INTEGER PRIMARY KEY AUTOINCREMENT, men_desayuno VARCHAR(100) NOT NULL, men_almuerzo VARCHAR(100) NOT NULL, men_comida VARCHAR(100) NOT NULL, men_dtp_codigo INTEGER NOT NULL);
CREATE TABLE paciente (pac_codigo INTEGER PRIMARY KEY AUTOINCREMENT, pac_nombre VARCHAR(150) NOT NULL, pac_identificacion VARCHAR(30) NOT NULL, pac_fecha_nacimiento DATE NOT NULL, pac_telefono1 VARCHAR(15), pac_telefono2 VARCHAR(15), pac_email VARCHAR(50), pac_direccion VARCHAR(150) NOT NULL, pac_ciudad VARCHAR(50) NOT NULL, pac_estado VARCHAR(50) NOT NULL, pac_pais VARCHAR(50) NOT NULL, pac_cod_postal INTEGER DEFAULT 0 NOT NULL);
CREATE TABLE postoperatorio (pos_codigo INTEGER PRIMARY KEY AUTOINCREMENT, pos_tra_codigo INTEGER NOT NULL, pos_med_codigo_responsable INTEGER, pos_hora_cita_col TIME NOT NULL, pos_valoracion TEXT NOT NULL, pos_recomendaciones TEXT NOT NULL, pos_tipo_anestesia VARCHAR(20) NOT NULL, pos_hora_cirugia TIME NOT NULL, pos_enf_codigo INTEGER NOT NULL, pos_info_especialista TEXT NOT NULL, pos_observaciones TEXT NOT NULL);
CREATE TABLE preferenciaturistica (prt_pac_codigo INTEGER, prt_dst_codigo INTEGER, PRIMARY KEY(prt_pac_codigo, prt_dst_codigo));
CREATE TABLE preoperatorio (preo_codigo INTEGER PRIMARY KEY AUTOINCREMENT, preo_tra_codigo INTEGER NOT NULL, preo_glicemia VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_tiempo_coagulacion VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_tpt VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_ptt VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_creatinina VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_nitrogeno_ureico VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_parcial_orina VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_electro VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_rx_torax VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_pa_lateral VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_prueba_esfuerzo VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_hg_glicosilada VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_tsh VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_t3 VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_t4 VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_vih INTEGER NOT NULL, preo_fecha_cita_ext DATE, preo_hora_cita_ext TIME, preo_fecha_cirugia DATE, preo_hora_cirugia TIME, preo_cli_codigo INTEGER, preo_enf_codigo INTEGER, preo_informe_especialista TEXT, preo_observaciones TEXT, preo_med_codigo INTEGER, preo_nombre_especialista VARCHAR(64), preo_correo_especialista VARCHAR(64));
CREATE TABLE procedimiento (pro_codigo INTEGER PRIMARY KEY AUTOINCREMENT, pro_tra_codigo INTEGER NOT NULL, pro_tit_codigo INTEGER NOT NULL, pro_dtr_codigo INTEGER NOT NULL, pro_otro TEXT);
CREATE TABLE reservahotel (reh_codigo INTEGER PRIMARY KEY AUTOINCREMENT, reh_hot_codigo INTEGER, reh_tra_codigo INTEGER, reh_fecha_entrada DATE NOT NULL, reh_fecha_salida DATE NOT NULL, reh_hora_llegada TIME NOT NULL, reh_hora_salida TIME, reh_localizador VARCHAR(80) NOT NULL, reh_dias_estadia INTEGER NOT NULL, reh_noches_estadia INTEGER NOT NULL);
CREATE TABLE reservavuelo (vue_codigo INTEGER PRIMARY KEY AUTOINCREMENT, vue_tra_codigo INTEGER NOT NULL, vue_origen VARCHAR(100) NOT NULL, vue_destino VARCHAR(100) NOT NULL, vue_fecha_ida DATE NOT NULL, vue_fecha_regreso DATE NOT NULL, vue_nro_vuelo_ida INTEGER NOT NULL, vue_nro_vuelo_regreso INTEGER NOT NULL, vue_hora_salida_ida TIME NOT NULL, vue_hora_llegada_ida TIME NOT NULL, vue_hora_salida_vuelta TIME NOT NULL, vue_hora_llegada_vuelta TIME NOT NULL, vue_valor INTEGER);
CREATE TABLE tipotratamiento (tit_codigo INTEGER PRIMARY KEY AUTOINCREMENT, tit_nombre VARCHAR(100) DEFAULT 'Otro' NOT NULL);
CREATE TABLE transporte (trans_codigo INTEGER PRIMARY KEY AUTOINCREMENT, trans_nombre VARCHAR(50) NOT NULL, trans_identificacion VARCHAR(50) NOT NULL, trans_telefono1 VARCHAR(15) NOT NULL, trans_telefono2 VARCHAR(15) NOT NULL, trans_direccion VARCHAR(150) NOT NULL, trans_placa_vehiculo VARCHAR(15) NOT NULL, trans_tipo_vehiculo VARCHAR(150) NOT NULL, trans_nombre_companhia VARCHAR(50) NOT NULL, trans_numero_companhia VARCHAR(15) NOT NULL, trans_telefono_companhia VARCHAR(15) NOT NULL);
CREATE TABLE tratamiento (tra_codigo INTEGER PRIMARY KEY AUTOINCREMENT, tra_pac_codigo INTEGER NOT NULL, tra_fecha_partida DATE, tra_tiempo_estadia INTEGER, tra_apto_operacion INTEGER DEFAULT 1, tra_costo_basico INTEGER);
CREATE TABLE sf_guard_forgot_password (id INTEGER PRIMARY KEY AUTOINCREMENT, user_id INTEGER NOT NULL, unique_key VARCHAR(255), expires_at DATETIME NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL);
CREATE TABLE sf_guard_group (id INTEGER PRIMARY KEY AUTOINCREMENT, name VARCHAR(255) UNIQUE, description VARCHAR(1000), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL);
CREATE TABLE sf_guard_group_permission (group_id INTEGER, permission_id INTEGER, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(group_id, permission_id));
CREATE TABLE sf_guard_permission (id INTEGER PRIMARY KEY AUTOINCREMENT, name VARCHAR(255) UNIQUE, description VARCHAR(1000), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL);
CREATE TABLE sf_guard_remember_key (id INTEGER PRIMARY KEY AUTOINCREMENT, user_id INTEGER, remember_key VARCHAR(32), ip_address VARCHAR(50), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL);
CREATE TABLE sf_guard_user (id INTEGER PRIMARY KEY AUTOINCREMENT, first_name VARCHAR(255), last_name VARCHAR(255), email_address VARCHAR(255) NOT NULL UNIQUE, username VARCHAR(128) NOT NULL UNIQUE, algorithm VARCHAR(128) DEFAULT 'sha1' NOT NULL, salt VARCHAR(128), password VARCHAR(128), is_active INTEGER DEFAULT '1', is_super_admin INTEGER DEFAULT '0', last_login DATETIME, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL);
CREATE TABLE sf_guard_user_group (user_id INTEGER, group_id INTEGER, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(user_id, group_id));
CREATE TABLE sf_guard_user_permission (user_id INTEGER, permission_id INTEGER, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(user_id, permission_id));
CREATE INDEX is_active_idx_idx ON sf_guard_user (is_active);
