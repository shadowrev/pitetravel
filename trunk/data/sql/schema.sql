CREATE TABLE agencia (agn_codigo BIGSERIAL, agn_nombre VARCHAR(255) NOT NULL, agn_descripcion TEXT, agn_telefono VARCHAR(15), PRIMARY KEY(agn_codigo));
CREATE TABLE altapostoperatoria (apo_codigo BIGSERIAL, apo_tra_codigo BIGINT NOT NULL, apo_med_codigo BIGINT, apo_cli_codigo BIGINT NOT NULL, apo_exploracion TEXT NOT NULL, apo_info_especialista TEXT NOT NULL, apo_tratamiento TEXT NOT NULL, apo_observaciones TEXT NOT NULL, PRIMARY KEY(apo_codigo));
CREATE TABLE clinica (cli_codigo BIGSERIAL, cli_nombre VARCHAR(50) NOT NULL, cli_direccion VARCHAR(50) NOT NULL, cli_telefono VARCHAR(15) NOT NULL, PRIMARY KEY(cli_codigo));
CREATE TABLE contacto (con_codigo BIGSERIAL, con_pac_codigo BIGINT NOT NULL, con_nombre VARCHAR(150) NOT NULL, con_telefono1 VARCHAR(15), con_telefono2 VARCHAR(15), con_email VARCHAR(50), con_direccion VARCHAR(150), PRIMARY KEY(con_codigo));
CREATE TABLE contactologistica (clo_codigo BIGSERIAL, clo_nombre VARCHAR(50) NOT NULL, clo_identificacion VARCHAR(30) NOT NULL, clo_telefono VARCHAR(15) NOT NULL, clo_email VARCHAR(150), clo_direccion VARCHAR(50), clo_caracteristica VARCHAR(50), PRIMARY KEY(clo_codigo));
CREATE TABLE descripciontratamiento (dtr_codigo BIGSERIAL, dtr_tit_codigo BIGINT, dtr_descripcion VARCHAR(200) NOT NULL, PRIMARY KEY(dtr_codigo));
CREATE TABLE destinoturistico (dst_codigo BIGSERIAL, dst_destino VARCHAR(255), PRIMARY KEY(dst_codigo));
CREATE TABLE dietapaciente (dtp_codigo BIGSERIAL, dtp_tra_codigo BIGINT NOT NULL, dtp_recomendaciones TEXT NOT NULL, dtp_med_codigo BIGINT, dtp_tipo_dieta VARCHAR(20) DEFAULT 'PREOPERATORIA' NOT NULL, PRIMARY KEY(dtp_codigo));
CREATE TABLE elementosxintervencion (exi_preo_codigo BIGINT, exi_maq_codigo BIGINT, exi_cantidad BIGINT, PRIMARY KEY(exi_preo_codigo, exi_maq_codigo));
CREATE TABLE enfermera (enf_codigo BIGSERIAL, enf_nombre VARCHAR(50) NOT NULL, enf_valor_servicio BIGINT, PRIMARY KEY(enf_codigo));
CREATE TABLE foto (fot_codigo BIGSERIAL, fot_nombre VARCHAR(100) NOT NULL, fot_uri_imagen VARCHAR(150) NOT NULL, fot_preoperatoria SMALLINT DEFAULT 1 NOT NULL, fot_preo_codigo BIGINT, fot_pos_codigo BIGINT, PRIMARY KEY(fot_codigo));
CREATE TABLE hotel (hot_codigo BIGSERIAL, hot_nombre VARCHAR(100) NOT NULL, hot_direccion VARCHAR(100) NOT NULL, hot_telefono VARCHAR(15) NOT NULL, hot_web VARCHAR(150), hot_email VARCHAR(150) NOT NULL, hot_valor_noche BIGINT NOT NULL, PRIMARY KEY(hot_codigo));
CREATE TABLE logistica (log_codigo BIGSERIAL, log_tra_codigo BIGINT NOT NULL, log_reh_codigo BIGINT, log_vue_codigo BIGINT, log_trans_codigo BIGINT, log_clo_codigo_responsable BIGINT, log_clo_codigo_guia BIGINT, log_observaciones TEXT, log_observaciones_transporte TEXT, PRIMARY KEY(log_codigo));
CREATE TABLE materialquirurgico (maq_codigo BIGSERIAL, maq_nombre VARCHAR(50) NOT NULL, maq_valor BIGINT, PRIMARY KEY(maq_codigo));
CREATE TABLE medico (med_codigo BIGSERIAL, med_sfg_id BIGINT NOT NULL, med_nombre VARCHAR(50) NOT NULL, med_direccion VARCHAR(50) NOT NULL, med_telefono1 VARCHAR(15) NOT NULL, med_telefono2 VARCHAR(15) NOT NULL, med_email VARCHAR(100) NOT NULL, med_especialidad VARCHAR(50) NOT NULL, PRIMARY KEY(med_codigo));
CREATE TABLE menu (men_codigo BIGSERIAL, men_desayuno VARCHAR(100) NOT NULL, men_almuerzo VARCHAR(100) NOT NULL, men_comida VARCHAR(100) NOT NULL, men_dtp_codigo BIGINT NOT NULL, PRIMARY KEY(men_codigo));
CREATE TABLE paciente (pac_codigo BIGSERIAL, pac_nombre VARCHAR(150) NOT NULL, pac_identificacion VARCHAR(30) NOT NULL, pac_fecha_nacimiento DATE, pac_telefono1 VARCHAR(15), pac_telefono2 VARCHAR(15), pac_email VARCHAR(50) NOT NULL, pac_direccion VARCHAR(150), pac_ciudad VARCHAR(50), pac_estado VARCHAR(50), pac_pais VARCHAR(50) NOT NULL, pac_cod_postal BIGINT DEFAULT 0 NOT NULL, pac_intervencion_deseada TEXT, pac_agn_codigo BIGINT NOT NULL, PRIMARY KEY(pac_codigo));
CREATE TABLE postoperatorio (pos_codigo BIGSERIAL, pos_tra_codigo BIGINT NOT NULL, pos_med_codigo_responsable BIGINT, pos_hora_cita_col TIME, pos_valoracion TEXT NOT NULL, pos_recomendaciones TEXT NOT NULL, pos_tipo_anestesia VARCHAR(20) NOT NULL, pos_hora_cirugia TIME, pos_enf_codigo BIGINT, pos_info_especialista TEXT NOT NULL, pos_observaciones TEXT NOT NULL, PRIMARY KEY(pos_codigo));
CREATE TABLE preferenciaturistica (pac_codigo BIGINT, dst_codigo BIGINT, PRIMARY KEY(pac_codigo, dst_codigo));
CREATE TABLE preoperatorio (preo_codigo BIGSERIAL, preo_tra_codigo BIGINT NOT NULL, preo_glicemia VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_tiempo_coagulacion VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_tpt VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_ptt VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_creatinina VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_nitrogeno_ureico VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_parcial_orina VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_electro VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_rx_torax VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_pa_lateral VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_prueba_esfuerzo VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_hg_glicosilada VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_tsh VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_t3 VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_t4 VARCHAR(15) DEFAULT 'no aplica' NOT NULL, preo_vih SMALLINT NOT NULL, preo_fecha_cita_ext DATE, preo_hora_cita_ext TIME, preo_fecha_cirugia DATE, preo_hora_cirugia TIME, preo_cli_codigo BIGINT, preo_enf_codigo BIGINT, preo_informe_especialista TEXT, preo_observaciones TEXT, preo_med_codigo BIGINT, preo_nombre_especialista VARCHAR(64), preo_correo_especialista VARCHAR(64), PRIMARY KEY(preo_codigo));
CREATE TABLE procedimiento (pro_codigo BIGSERIAL, pro_tra_codigo BIGINT NOT NULL, pro_tit_codigo BIGINT NOT NULL, pro_dtr_codigo BIGINT NOT NULL, pro_otro TEXT, PRIMARY KEY(pro_codigo));
CREATE TABLE reservahotel (reh_codigo BIGSERIAL, reh_hot_codigo BIGINT NOT NULL, reh_tra_codigo BIGINT NOT NULL, reh_fecha_entrada DATE NOT NULL, reh_fecha_salida DATE NOT NULL, reh_hora_llegada TIME NOT NULL, reh_hora_salida TIME NOT NULL, reh_localizador VARCHAR(80), reh_dias_estadia INT, reh_noches_estadia INT, PRIMARY KEY(reh_codigo));
CREATE TABLE reservavuelo (vue_codigo BIGSERIAL, vue_tra_codigo BIGINT NOT NULL, vue_origen VARCHAR(100) NOT NULL, vue_destino VARCHAR(100) NOT NULL, vue_fecha_ida DATE NOT NULL, vue_fecha_regreso DATE NOT NULL, vue_nro_vuelo_ida VARCHAR(16) NOT NULL, vue_nro_vuelo_regreso VARCHAR(16) NOT NULL, vue_hora_salida_ida TIME NOT NULL, vue_hora_llegada_ida TIME NOT NULL, vue_hora_salida_vuelta TIME NOT NULL, vue_hora_llegada_vuelta TIME NOT NULL, vue_valor BIGINT, PRIMARY KEY(vue_codigo));
CREATE TABLE tipotratamiento (tit_codigo BIGSERIAL, tit_nombre VARCHAR(100) DEFAULT 'Otro' NOT NULL, PRIMARY KEY(tit_codigo));
CREATE TABLE transporte (trans_codigo BIGSERIAL, trans_nombre VARCHAR(50) NOT NULL, trans_identificacion VARCHAR(50) NOT NULL, trans_telefono1 VARCHAR(15) NOT NULL, trans_telefono2 VARCHAR(15) NOT NULL, trans_direccion VARCHAR(150) NOT NULL, trans_placa_vehiculo VARCHAR(15) NOT NULL, trans_tipo_vehiculo VARCHAR(150) NOT NULL, trans_nombre_companhia VARCHAR(50) NOT NULL, trans_numero_companhia VARCHAR(15) NOT NULL, trans_telefono_companhia VARCHAR(15) NOT NULL, PRIMARY KEY(trans_codigo));
CREATE TABLE tratamiento (tra_codigo BIGSERIAL, tra_pac_codigo BIGINT NOT NULL, tra_fecha_partida DATE, tra_tiempo_estadia BIGINT, tra_apto_operacion SMALLINT DEFAULT 1, tra_costo_basico BIGINT, PRIMARY KEY(tra_codigo));
CREATE TABLE usuariosagencia (uag_agn_codigo BIGINT, uag_sfu_id BIGINT, PRIMARY KEY(uag_agn_codigo, uag_sfu_id));
CREATE TABLE sf_guard_forgot_password (id BIGSERIAL, user_id BIGINT NOT NULL, unique_key VARCHAR(255), expires_at TIMESTAMP NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE sf_guard_group (id BIGSERIAL, name VARCHAR(255) UNIQUE, description VARCHAR(1000), created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE sf_guard_group_permission (group_id BIGINT, permission_id BIGINT, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(group_id, permission_id));
CREATE TABLE sf_guard_permission (id BIGSERIAL, name VARCHAR(255) UNIQUE, description VARCHAR(1000), created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE sf_guard_remember_key (id BIGSERIAL, user_id BIGINT, remember_key VARCHAR(32), ip_address VARCHAR(50), created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE sf_guard_user (id BIGSERIAL, first_name VARCHAR(255), last_name VARCHAR(255), email_address VARCHAR(255) NOT NULL UNIQUE, username VARCHAR(128) NOT NULL UNIQUE, algorithm VARCHAR(128) DEFAULT 'sha1' NOT NULL, salt VARCHAR(128), password VARCHAR(128), is_active BOOLEAN DEFAULT 'true', is_super_admin BOOLEAN DEFAULT 'false', last_login TIMESTAMP, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE sf_guard_user_group (user_id BIGINT, group_id BIGINT, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(user_id, group_id));
CREATE TABLE sf_guard_user_permission (user_id BIGINT, permission_id BIGINT, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(user_id, permission_id));
CREATE INDEX is_active_idx ON sf_guard_user (is_active);
ALTER TABLE altapostoperatoria ADD CONSTRAINT altapostoperatoria_apo_med_codigo_medico_med_codigo FOREIGN KEY (apo_med_codigo) REFERENCES medico(med_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE altapostoperatoria ADD CONSTRAINT altapostoperatoria_apo_cli_codigo_clinica_cli_codigo FOREIGN KEY (apo_cli_codigo) REFERENCES clinica(cli_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE contacto ADD CONSTRAINT contacto_con_pac_codigo_paciente_pac_codigo FOREIGN KEY (con_pac_codigo) REFERENCES paciente(pac_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE descripciontratamiento ADD CONSTRAINT descripciontratamiento_dtr_tit_codigo_tipotratamiento_tit_codigo FOREIGN KEY (dtr_tit_codigo) REFERENCES tipotratamiento(tit_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE dietapaciente ADD CONSTRAINT dietapaciente_dtp_tra_codigo_tratamiento_tra_codigo FOREIGN KEY (dtp_tra_codigo) REFERENCES tratamiento(tra_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE dietapaciente ADD CONSTRAINT dietapaciente_dtp_med_codigo_medico_med_codigo FOREIGN KEY (dtp_med_codigo) REFERENCES medico(med_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE elementosxintervencion ADD CONSTRAINT elementosxintervencion_exi_preo_codigo_preoperatorio_preo_codigo FOREIGN KEY (exi_preo_codigo) REFERENCES preoperatorio(preo_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE elementosxintervencion ADD CONSTRAINT eemm FOREIGN KEY (exi_maq_codigo) REFERENCES materialquirurgico(maq_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE foto ADD CONSTRAINT foto_fot_preo_codigo_preoperatorio_preo_codigo FOREIGN KEY (fot_preo_codigo) REFERENCES preoperatorio(preo_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE foto ADD CONSTRAINT foto_fot_pos_codigo_postoperatorio_pos_codigo FOREIGN KEY (fot_pos_codigo) REFERENCES postoperatorio(pos_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE logistica ADD CONSTRAINT logistica_log_vue_codigo_reservavuelo_vue_codigo FOREIGN KEY (log_vue_codigo) REFERENCES reservavuelo(vue_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE logistica ADD CONSTRAINT logistica_log_trans_codigo_transporte_trans_codigo FOREIGN KEY (log_trans_codigo) REFERENCES transporte(trans_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE logistica ADD CONSTRAINT logistica_log_tra_codigo_tratamiento_tra_codigo FOREIGN KEY (log_tra_codigo) REFERENCES tratamiento(tra_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE logistica ADD CONSTRAINT logistica_log_reh_codigo_reservahotel_reh_codigo FOREIGN KEY (log_reh_codigo) REFERENCES reservahotel(reh_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE logistica ADD CONSTRAINT logistica_log_clo_codigo_guia_contactologistica_clo_codigo FOREIGN KEY (log_clo_codigo_guia) REFERENCES contactologistica(clo_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE logistica ADD CONSTRAINT llcc FOREIGN KEY (log_clo_codigo_responsable) REFERENCES contactologistica(clo_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE menu ADD CONSTRAINT menu_men_dtp_codigo_dietapaciente_dtp_codigo FOREIGN KEY (men_dtp_codigo) REFERENCES dietapaciente(dtp_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE paciente ADD CONSTRAINT paciente_pac_agn_codigo_agencia_agn_codigo FOREIGN KEY (pac_agn_codigo) REFERENCES agencia(agn_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE postoperatorio ADD CONSTRAINT postoperatorio_pos_tra_codigo_tratamiento_tra_codigo FOREIGN KEY (pos_tra_codigo) REFERENCES tratamiento(tra_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE postoperatorio ADD CONSTRAINT postoperatorio_pos_med_codigo_responsable_medico_med_codigo FOREIGN KEY (pos_med_codigo_responsable) REFERENCES medico(med_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE postoperatorio ADD CONSTRAINT postoperatorio_pos_enf_codigo_enfermera_enf_codigo FOREIGN KEY (pos_enf_codigo) REFERENCES enfermera(enf_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE preferenciaturistica ADD CONSTRAINT preferenciaturistica_pac_codigo_paciente_pac_codigo FOREIGN KEY (pac_codigo) REFERENCES paciente(pac_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE preferenciaturistica ADD CONSTRAINT preferenciaturistica_dst_codigo_destinoturistico_dst_codigo FOREIGN KEY (dst_codigo) REFERENCES destinoturistico(dst_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE preoperatorio ADD CONSTRAINT preoperatorio_preo_tra_codigo_tratamiento_tra_codigo FOREIGN KEY (preo_tra_codigo) REFERENCES tratamiento(tra_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE preoperatorio ADD CONSTRAINT preoperatorio_preo_med_codigo_medico_med_codigo FOREIGN KEY (preo_med_codigo) REFERENCES medico(med_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE preoperatorio ADD CONSTRAINT preoperatorio_preo_enf_codigo_enfermera_enf_codigo FOREIGN KEY (preo_enf_codigo) REFERENCES enfermera(enf_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE preoperatorio ADD CONSTRAINT preoperatorio_preo_cli_codigo_clinica_cli_codigo FOREIGN KEY (preo_cli_codigo) REFERENCES clinica(cli_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE procedimiento ADD CONSTRAINT procedimiento_pro_tra_codigo_tratamiento_tra_codigo FOREIGN KEY (pro_tra_codigo) REFERENCES tratamiento(tra_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE procedimiento ADD CONSTRAINT procedimiento_pro_tit_codigo_tipotratamiento_tit_codigo FOREIGN KEY (pro_tit_codigo) REFERENCES tipotratamiento(tit_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE procedimiento ADD CONSTRAINT procedimiento_pro_dtr_codigo_descripciontratamiento_dtr_codigo FOREIGN KEY (pro_dtr_codigo) REFERENCES descripciontratamiento(dtr_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE reservahotel ADD CONSTRAINT reservahotel_reh_tra_codigo_tratamiento_tra_codigo FOREIGN KEY (reh_tra_codigo) REFERENCES tratamiento(tra_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE reservahotel ADD CONSTRAINT reservahotel_reh_hot_codigo_hotel_hot_codigo FOREIGN KEY (reh_hot_codigo) REFERENCES hotel(hot_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE reservavuelo ADD CONSTRAINT reservavuelo_vue_tra_codigo_tratamiento_tra_codigo FOREIGN KEY (vue_tra_codigo) REFERENCES tratamiento(tra_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE tratamiento ADD CONSTRAINT tratamiento_tra_pac_codigo_paciente_pac_codigo FOREIGN KEY (tra_pac_codigo) REFERENCES paciente(pac_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE usuariosagencia ADD CONSTRAINT usuariosagencia_uag_agn_codigo_agencia_agn_codigo FOREIGN KEY (uag_agn_codigo) REFERENCES agencia(agn_codigo) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE sf_guard_forgot_password ADD CONSTRAINT sf_guard_forgot_password_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE sf_guard_group_permission ADD CONSTRAINT sf_guard_group_permission_permission_id_sf_guard_permission_id FOREIGN KEY (permission_id) REFERENCES sf_guard_permission(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE sf_guard_group_permission ADD CONSTRAINT sf_guard_group_permission_group_id_sf_guard_group_id FOREIGN KEY (group_id) REFERENCES sf_guard_group(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE sf_guard_remember_key ADD CONSTRAINT sf_guard_remember_key_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE sf_guard_user_group ADD CONSTRAINT sf_guard_user_group_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE sf_guard_user_group ADD CONSTRAINT sf_guard_user_group_group_id_sf_guard_group_id FOREIGN KEY (group_id) REFERENCES sf_guard_group(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE sf_guard_user_permission ADD CONSTRAINT sf_guard_user_permission_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE sf_guard_user_permission ADD CONSTRAINT sf_guard_user_permission_permission_id_sf_guard_permission_id FOREIGN KEY (permission_id) REFERENCES sf_guard_permission(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
